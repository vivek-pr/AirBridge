[core]
# Use the custom EdgeExecutor implementation. The fully qualified module path
# ensures Airflow can import the executor when the configuration is loaded.
executor = airflow.providers.edge3.executors.EdgeExecutor

[secrets]
backend = airflow.providers.amazon.aws.secrets.secrets_manager.SecretsManagerBackend
backend_kwargs = {"connections_prefix": "airflow/connections", "variables_prefix": "airflow/variables", "config_prefix": "airflow/config"}

# Edge API token is provided via the EDGE_API_TOKEN environment variable.
# The value is pulled from AWS Secrets Manager at container start.
[edge]
api_enabled = True
api_url = https://localhost:8080/edge_worker/v1/rpcapi

[logging]
remote_logging = True
remote_log_conn_id = aws_default
remote_base_log_folder = s3://airbridge-logs/logs
delete_local_logs = True

[api_auth]
jwt_secret = ${JWT_SECRET}
