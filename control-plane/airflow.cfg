[core]
# Use the custom EdgeExecutor implementation. The fully qualified module path
# ensures Airflow can import the executor when the configuration is loaded.
executor = airflow.providers.edge3.executors.EdgeExecutor

[secrets]
backend = airflow.providers.amazon.aws.secrets.secrets_manager.SecretsManagerBackend
backend_kwargs = {"connections_prefix": "airflow/connections", "variables_prefix": "airflow/variables", "config_prefix": "airflow/config"}

# Edge API token is provided via the EDGE_API_TOKEN environment variable.
# The value is pulled from AWS Secrets Manager at container start.
[edge]
api_enabled = True
api_url = http://localhost:8080/edge_worker/v1/rpcapi
api_auth_backend = airflow.api_fastapi.auth.backend.default.allow_all


[logging]
remote_logging = True
remote_log_conn_id = aws_default
remote_base_log_folder = s3://airbridge-logs/logs
delete_local_logs = True

[api_auth]
jwt_secret = eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJlZGdlLXdvcmtlciIsImlhdCI6MTc1NTYzNTExNywibmJmIjoxNzU1NjM1MTEyLCJleHAiOjE3NTU2Mzg3MTcsImF1ZCI6InVybjphaXJmbG93LmFwYWNoZS5vcmc6dGFzayJ9.X4wUOu26SxckgkmmnytT_BYzYUernXmKw6Vy-cfkTak
